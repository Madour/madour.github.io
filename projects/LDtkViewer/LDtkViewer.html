<!doctypehtml><html lang=en-us><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><title>LDtkViewer-Web</title><style>*{box-sizing:border-box}html{background-color:#363c45}body{background-color:#16181df9;font-family:arial;margin:0;padding:0;height:100vh}nav{width:100%;height:45px;background-color:#16181d}.emscripten{margin:0 auto;padding-right:0;text-align:center}.spinner{box-sizing:content-box;width:25px;height:25px;margin:10px;float:left;-webkit-animation:rotation .8s linear infinite;-moz-animation:rotation .8s linear infinite;-o-animation:rotation .8s linear infinite;animation:rotation .8s linear infinite;border-left:5px solid #fc0;border-right:5px solid #fc0;border-bottom:5px solid #fc0;border-top:5px solid #ffd;border-radius:100%;background-color:#ffed82}@-webkit-keyframes rotation{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@-moz-keyframes rotation{from{-moz-transform:rotate(0)}to{-moz-transform:rotate(360deg)}}@-o-keyframes rotation{from{-o-transform:rotate(0)}to{-o-transform:rotate(360deg)}}@keyframes rotation{from{transform:rotate(0)}to{transform:rotate(360deg)}}#fullscreen-btn{margin:10px;float:right;width:125px;height:25px}nav>#status-container{display:block;width:450px;height:100%;margin:0 auto;padding:10px 0}#status{display:block;margin:0 auto;font-weight:700;line-height:21px;color:#ffd}#progress{margin-bottom:10px;height:10px;width:450px;border-radius:20px;border:0;background:#ffd}#progress::-moz-progress-bar{background:#fc0;border-radius:20px}#progress::-webkit-progress-bar{background:#fc0;border-radius:20px}canvas{display:block;border:0 none;background-color:#16181d;width:100vw;height:56.25vw;max-height:calc(100vh - 90px);max-width:calc(177.78vh - 90px)}canvas.fullscreen{max-height:calc(100vh);max-width:calc(177.78vh)}</style></head><body><nav><div id=spinner class=spinner></div><input id=fullscreen-btn type=button value=Fullscreen><div id=status-container><div id=status class=emscripten>Downloading...</div><progress class=emscripten id=progress max=100 value=0></progress></div></nav><canvas class=emscripten id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas><script>var spinnerElement=document.getElementById("spinner"),statusElement=document.getElementById("status"),progressElement=document.getElementById("progress"),buttonElement=document.getElementById("fullscreen-btn"),canvasElement=document.getElementById("canvas");async function recursiveOnDrop(e){if(e.preventDefault(),!e.dataTransfer||!e.dataTransfer.files||0==e.dataTransfer.files.length)return;var t=[],n=".ldtkviewer_files";async function a(e,s){s=s||"",e.isDirectory?await async function(e,t,a){return new Promise((function(s,r){FS.createPath("/"+n+"/"+t,e.name);var l=t+e.name+"/";e.createReader().readEntries((async function(e){for(let t=0;t<e.length;++t)await a(e[t],l);s()}))}))}(e,s,a):e.isFile&&await async function(e,n){return new Promise((function(a,s){e.file((function(e){e.path=n,t.push(e),a()}))}))}(e,s)}FS.createPath("/",n);const s=e.dataTransfer.items;for(let e=0;e<s.length;++e){var r=s[e].webkitGetAsEntry();r&&await a(r)}var l=_malloc(4*t.length),o=[],i=0;function u(e,a){var s="/"+n+"/"+e.path+e.name,r=new FileReader;r.onloadend=n=>{if(2!==r.readyState)return++i,void out("failed to read dropped file: "+e.path+e.name+": "+r.error);var a=n.target.result;if(FS.writeFile(s,new Uint8Array(a)),++i===t.length){getWasmTableEntry(GLFW.active.dropFunc)(GLFW.active.id,t.length,l);for(let e=0;e<o.length;++e)_free(o[e]);_free(l)}},r.readAsArrayBuffer(e);var u=allocateUTF8(s);o.push(u),setValue(l+4*a,u,"i8*")}for(let e=0;e<t.length;++e)u(t[e],e);return!1}buttonElement.addEventListener("click",(function(e){e.preventDefault(),Module.requestFullscreen(!1,!0)}));var Module={preRun:[],postRun:[function(){this.canvas.removeEventListener("drop",this.GLFW.onDrop,!0),this.canvas.addEventListener("drop",recursiveOnDrop,!0)}],print:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.log(e)},canvas:(canvasElement.addEventListener("webglcontextlost",(function(e){alert("WebGL context lost. Please reload the page."),e.preventDefault()}),!1),canvas),onFullScreen:function(e){canvasElement.classList.toggle("fullscreen")},setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),n=Date.now();console.log(e,t,n),t&&n-Module.setStatus.last.time<30||(Module.setStatus.last.time=n,Module.setStatus.last.text=e,t?(e=t[1],progressElement.value=100*parseInt(t[2]),progressElement.max=100*parseInt(t[4]),progressElement.hidden=!1,spinnerElement.hidden=!1):(progressElement.value=null,progressElement.max=null,progressElement.hidden=!0,e||(spinnerElement.style.display="none")),statusElement.innerHTML=e)}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e),Module.setStatus(e?"Preparing... ("+(this.totalDependencies-e)+"/"+this.totalDependencies+")":"All downloads complete.")}};Module.setStatus("Downloading..."),window.onerror=function(e){Module.setStatus("Exception thrown, see JavaScript console"),spinnerElement.style.display="none",Module.setStatus=function(e){e&&console.error("[post-exception status] "+e)}}</script><script async src=LDtkViewer.js></script></body></html>